#include <amxmodx>
#include <cstrike>
#include <fakemeta>

#define PLUGIN "CoD Unprecacher"
#define VERSION "1.1.1"
#define AUTHOR "O'Zone"

new const unprecacheSounds[][] =
{
	"ambience\3dmbridge.wav",
	"ambience\3dmeagle.wav",
	"ambience\3dmstart.wav",
	"ambience\3dmthrill.wav",
	"ambience\alarm1.wav",
	"ambience\arabmusic.wav",
	"ambience\Birds1.wav",
	"ambience\Birds2.wav",
	"ambience\Birds3.wav",
	"ambience\Birds4.wav",
	"ambience\Birds5.wav",
	"ambience\Birds6.wav",
	"ambience\Birds7.wav",
	"ambience\Birds8.wav",
	"ambience\Birds9.wav",
	"ambience\car1.wav",
	"ambience\car2.wav",
	"ambience\cat1.wav",
	"ambience\chimes.wav",
	"ambience\cicada3.wav",
	"ambience\copter.wav",
	"ambience\cow.wav",
	"ambience\crow.wav",
	"ambience\dog1.wav",
	"ambience\dog2.wav",
	"ambience\dog3.wav",
	"ambience\dog4.wav",
	"ambience\dog5.wav",
	"ambience\dog6.wav",
	"ambience\dog7.wav",
	"ambience\doorbell.wav",
	"ambience\fallscream.wav",
	"ambience\guit1.wav",
	"ambience\kajika.wav",
	"ambience\lv1.wav",
	"ambience\lv2.wav",
	"ambience\lv3.wav",
	"ambience\lv4.wav",
	"ambience\lv5.wav",
	"ambience\lv6.wav",
	"ambience\lv_elvis.wav",
	"ambience\lv_fruit1.wav",
	"ambience\lv_fruit2.wav",
	"ambience\lv_fruitwin.wav",
	"ambience\lv_jubilee.wav",
	"ambience\lv_neon.wav",
	"ambience\Opera.wav",
	"ambience\rain.wav",
	"ambience\ratchant.wav",
	"ambience\rd_shipshorn.wav",
	"ambience\rd_waves.wav",
	"ambience\sheep.wav",
	"ambience\sparrow.wav",
	"ambience\thunder_clap.wav",
	"ambience\waterrun.wav",
	"ambience\wolfhowl01.wav",
	"ambience\wolfhowl02.wav",
	"de_torn\tk_steam.wav",
	"de_torn\tk_windStreet.wav",
	"de_torn\torn_AK-47.wav",
	"de_torn\torn_ambience.wav",
	"de_torn\torn_Bomb1.wav",
	"de_torn\torn_Bomb2.wav",
	"de_torn\torn_MGun1.wav",
	"de_torn\torn_Templewind.wav",
	"de_torn\torn_thndrstrike.wav",
	"de_torn\torn_water1.wav",
	"de_torn\torn_water2.wav",
	"events\enemy_died.wav",
	"events\friend_died.wav",
	"events\task_complete.wav",
	"events\tutor_msg.wav",
	"hostage\hos1.wav",
	"hostage\hos2.wav",
	"hostage\hos3.wav",
	"hostage\hos4.wav",
	"hostage\hos5.wav",
	"items\equip_nvg.wav",
	"items\kevlar.wav",
	"items\nvg_off.wav",
	"items\nvg_on.wav",
	"items\tr_kevlar.wav",
	"plats\vehicle1.wav",
	"plats\vehicle2.wav",
	"plats\vehicle3.wav",
	"plats\vehicle4.wav",
	"plats\vehicle6.wav",
	"plats\vehicle7.wav",
	"plats\vehicle_brake1.wav",
	"plats\vehicle_ignition.wav",
	"plats\vehicle_start1.wav",
	"player\breathe1.wav",
	"player\breathe2.wav",
	"player\gasp1.wav",
	"player\gasp2.wav",
	"player\pl_die1.wav",
	"player\pl_dirt1.wav",
	"player\pl_dirt2.wav",
	"player\pl_dirt3.wav",
	"player\pl_dirt4.wav",
	"player\pl_duct1.wav",
	"player\pl_duct2.wav",
	"player\pl_duct3.wav",
	"player\pl_duct4.wav",
	"player\pl_fallpain1.wav",
	"player\pl_fallpain2.wav",
	"player\pl_fallpain3.wav",
	"player\pl_grate1.wav",
	"player\pl_grate2.wav",
	"player\pl_grate3.wav",
	"player\pl_grate4.wav",
	"player\pl_jump1.wav",
	"player\pl_jump2.wav",
	"player\pl_pain2.wav",
	"player\pl_pain4.wav",
	"player\pl_pain5.wav",
	"player\pl_pain6.wav",
	"player\pl_pain7.wav",
	"player\pl_shell1.wav",
	"player\pl_shot1.wav",
	"player\pl_snow5.wav",
	"player\pl_snow6.wav",
	"player\pl_step1.wav",
	"player\pl_step2.wav",
	"player\pl_step3.wav",
	"player\pl_step4.wav",
	"player\pl_swim1.wav",
	"player\pl_swim2.wav",
	"player\pl_swim3.wav",
	"player\pl_swim4.wav",
	"player\pl_tile1.wav",
	"player\pl_tile2.wav",
	"player\pl_tile3.wav",
	"player\pl_tile4.wav",
	"radio\blow.wav",
	"radio\bombdef.wav",
	"radio\bombpl.wav",
	"radio\circleback.wav",
	"radio\clear.wav",
	"radio\com_followcom.wav",
	"radio\com_getinpos.wav",
	"radio\com_go.wav",
	"radio\com_reportin.wav",
	"radio\ct_affirm.wav",
	"radio\ct_backup.wav",
	"radio\ct_coverme.wav",
	"radio\ct_enemys.wav",
	"radio\ct_fireinhole.wav",
	"radio\ct_imhit.wav",
	"radio\ct_inpos.wav",
	"radio\ct_point.wav",
	"radio\ct_reportingin.wav",
	"radio\ctwin.wav",
	"radio\elim.wav",
	"radio\enemydown.wav",
	"radio\fallback.wav",
	"radio\fireassis.wav",
	"radio\flankthem.wav",
	"radio\followme.wav",
	"radio\getout.wav",
	"radio\go.wav",
	"radio\hitassist.wav",
	"radio\hosdown.wav",
	"radio\letsgo.wav",
	"radio\locknload.wav",
	"radio\matedown.wav",
	"radio\meetme.wav",
	"radio\moveout.wav",
	"radio\negative.wav",
	"radio\position.wav",
	"radio\regroup.wav",
	"radio\rescued.wav",
	"radio\roger.wav",
	"radio\rounddraw.wav",
	"radio\sticktog.wav",
	"radio\stormfront.wav",
	"radio\takepoint.wav",
	"radio\terwin.wav",
	"radio\vip.wav",
	"storm\thunder-theme.wav",
	"weapons/ak47-1.wav",
	"weapons/ak47-2.wav",
	"weapons/ak47_boltpull.wav",
	"weapons/ak47_clipin.wav",
	"weapons/ak47_clipout.wav",
	"weapons/aug-1.wav",
	"weapons/aug_boltpull.wav",
	"weapons/aug_boltslap.wav",
	"weapons/aug_clipin.wav",
	"weapons/aug_clipout.wav",
	"weapons/aug_forearm.wav",
	"weapons/awp1.wav",
	"weapons/awp_clipin.wav",
	"weapons/awp_clipout.wav",
	"weapons/awp_deploy.wav",
	"weapons/boltdown.wav",
	"weapons/boltpull1.wav",
	"weapons/boltup.wav",
	"weapons/clipin1.wav",
	"weapons/clipout1.wav",
	"weapons/de_clipin.wav",
	"weapons/de_clipout.wav",
	"weapons/de_deploy.wav",
	"weapons/deagle-1.wav",
	"weapons/deagle-2.wav",
	"weapons/elite_clipout.wav",
	"weapons/elite_deploy.wav",
	"weapons/elite_fire.wav",
	"weapons/elite_leftclipin.wav",
	"weapons/elite_reloadstart.wav",
	"weapons/elite_rightclipin.wav",
	"weapons/elite_sliderelease.wav",
	"weapons/elite_twirl.wav",
	"weapons/famas-1.wav",
	"weapons/famas-2.wav",
	"weapons/famas-burst.wav",
	"weapons/famas_boltpull.wav",
	"weapons/famas_boltslap.wav",
	"weapons/famas_clipin.wav",
	"weapons/famas_clipout.wav",
	"weapons/famas_forearm.wav",
	"weapons/fiveseven-1.wav",
	"weapons/fiveseven_clipin.wav",
	"weapons/fiveseven_clipout.wav",
	"weapons/fiveseven_slidepull.wav",
	"weapons/fiveseven_sliderelease.wav",
	"weapons/g3sg1-1.wav",
	"weapons/g3sg1_clipin.wav",
	"weapons/g3sg1_clipout.wav",
	"weapons/g3sg1_slide.wav",
	"weapons/galil-1.wav",
	"weapons/galil-2.wav",
	"weapons/galil_boltpull.wav",
	"weapons/galil_clipin.wav",
	"weapons/galil_clipout.wav",
	"weapons/generic_reload.wav",
	"weapons/generic_shot_reload.wav",
	"weapons/glock18-1.wav",
	"weapons/glock18-2.wav",
	"weapons/headshot2.wav",
	"weapons/m3-1.wav",
	"weapons/m3_insertshell.wav",
	"weapons/m3_pump.wav",
	"weapons/m4a1-1.wav",
	"weapons/m4a1_boltpull.wav",
	"weapons/m4a1_clipin.wav",
	"weapons/m4a1_clipout.wav",
	"weapons/m4a1_deploy.wav",
	"weapons/m4a1_silencer_off.wav",
	"weapons/m4a1_silencer_on.wav",
	"weapons/m4a1_unsil-1.wav",
	"weapons/m4a1_unsil-2.wav",
	"weapons/m249-1.wav",
	"weapons/m249-2.wav",
	"weapons/m249_boxin.wav",
	"weapons/m249_boxout.wav",
	"weapons/m249_chain.wav",
	"weapons/m249_coverdown.wav",
	"weapons/m249_coverup.wav",
	"weapons/mac10-1.wav",
	"weapons/mac10_boltpull.wav",
	"weapons/mac10_clipin.wav",
	"weapons/mac10_clipout.wav",
	"weapons/mp5-1.wav",
	"weapons/mp5-2.wav",
	"weapons/mp5_clipin.wav",
	"weapons/mp5_clipout.wav",
	"weapons/mp5_slideback.wav",
	"weapons/p90-1.wav",
	"weapons/p90_boltpull.wav",
	"weapons/p90_clipin.wav",
	"weapons/p90_clipout.wav",
	"weapons/p90_cliprelease.wav",
	"weapons/p228-1.wav",
	"weapons/p228_clipin.wav",
	"weapons/p228_clipout.wav",
	"weapons/p228_slidepull.wav",
	"weapons/p228_sliderelease.wav",
	"weapons/pinpull.wav",
	"weapons/ric_conc-1.wav",
	"weapons/ric_conc-2.wav",
	"weapons/ric_metal-1.wav",
	"weapons/ric_metal-2.wav",
	"weapons/scout_bolt.wav",
	"weapons/scout_clipin.wav",
	"weapons/scout_clipout.wav",
	"weapons/scout_fire-1.wav",
	"weapons/sg550-1.wav",
	"weapons/sg550_boltpull.wav",
	"weapons/sg550_clipin.wav",
	"weapons/sg550_clipout.wav",
	"weapons/sg552-1.wav",
	"weapons/sg552-2.wav",
	"weapons/sg552_boltpull.wav",
	"weapons/sg552_clipin.wav",
	"weapons/sg552_clipout.wav",
	"weapons/slideback1.wav",
	"weapons/sliderelease1.wav",
	"weapons/tmp-1.wav",
	"weapons/tmp-2.wav",
	"weapons/ump45-1.wav",
	"weapons/ump45_boltslap.wav",
	"weapons/ump45_clipin.wav",
	"weapons/ump45_clipout.wav",
	"weapons/usp1.wav",
	"weapons/usp2.wav",
	"weapons/usp_clipin.wav",
	"weapons/usp_clipout.wav",
	"weapons/usp_silencer_off.wav",
	"weapons/usp_silencer_on.wav",
	"weapons/usp_slideback.wav",
	"weapons/usp_sliderelease.wav",
	"weapons/usp_unsil-1.wav",
	"weapons/xm1014-1.wav",
	"weapons/scout_clipin.wav",
	"weapons/scout_bolt.wav",
	"weapons/scout_clipout.wav",
	"weapons/scout_fire-1.wav",
	"weapons/tmp-1.wav",
	"weapons/tmp-2.wav",
	"weapons/p228_clipin.wav",
	"weapons/p228_clipout.wav",
	"weapons/p228_slidepull.wav",
	"weapons/p228_sliderelease.wav",
	"weapons/p228-1.wav",
	"weapons/glock18-1.wav",
	"weapons/glock18-2.wav",
	"weapons/fiveseven_clipin.wav",
	"weapons/fiveseven_clipout.wav",
	"weapons/fiveseven_slidepull.wav",
	"weapons/fiveseven_sliderelease.wav",
	"weapons/fiveseven-1.wav",
	"weapons/elite_clipout.wav",
	"weapons/elite_deploy.wav",
	"weapons/elite_fire.wav",
	"weapons/elite_leftclipin.wav",
	"weapons/elite_reloadstart.wav",
	"weapons/elite_rightclipin.wav",
	"weapons/elite_sliderelease.wav",
	"weapons/elite_twirl.wav",
	"radio/blow.wav",
	"radio/bombdef.wav",
	"radio/bombpl.wav",
	"radio/circleback.wav",
	"radio/clear.wav",
	"radio/com_followcom.wav",
	"radio/com_getinpos.wav",
	"radio/com_go.wav",
	"radio/com_reportin.wav",
	"radio/ct_affirm.wav",
	"radio/ct_backup.wav",
	"radio/ct_coverme.wav",
	"radio/ct_enemys.wav",
	"radio/ct_fireinhole.wav",
	"radio/ct_inpos.wav",
	"radio/ct_point.wav",
	"radio/ct_reportingin.wav",
	"radio/ctwin.wav",
	"radio/elim.wav",
	"radio/enemydown.wav",
	"radio/fallback.wav",
	"radio/fireassis.wav",
	"radio/flankthem.wav",
	"radio/followme.wav",
	"radio/plats.wav",
	"plats/vehicle_brake1.wav",
	"plats/vehicle_ignition.wav",
	"plats/vehicle_start1.wav",
	"plats/vehicle1.wav",
	"plats/vehicle2.wav",
	"plats/vehicle3.wav",
	"plats/vehicle4.wav",
	"plats/vehicle6.wav",
	"plats/vehicle7.wav",
	"plats/plats.wav",
	"plats/plats.wav",
	"plats/plats.wav",
	"weapons/famas_boltpull.wav",
	"weapons/famas_boltslap.wav",
	"weapons/famas_clipin.wav",
	"weapons/famas_clipout.wav",
	"weapons/famas_forearm.wav",
	"weapons/famas-1.wav",
	"weapons/famas-2.wav",
	"weapons/famas-burst.wav",
	"weapons/galil_boltpull.wav",
	"weapons/galil_clipin.wav",
	"weapons/galil_clipout.wav",
	"weapons/galil-1.wav",
	"weapons/galil-2.wav",
	"weapons/mac10_boltpull.wav",
	"weapons/mac10_clipin.wav",
	"weapons/mac10_clipout.wav",
	"weapons/mac10-1.wav",
	"weapons/scout_bolt.wav",
	"weapons/scout_clipin.wav",
	"weapons/scout_clipout.wav",
	"weapons/scout_fire-1.wav",
	"weapons/ump45_boltslap.wav",
	"items/tr_kevlar.wav",
	"weapons/boltup.wav",
	"weapons/boltdown.wav",
	"weapons/awp_deploy.wav",
	"weapons/deagle-1.wav",
	"weapons/deagle-2.wav",
	"weapons/awp_clipin.wav",
	"weapons/awp_clipout.wav",
	"weapons/g3sg1_slide.wav",
	"weapons/g3sg1_clipin.wav",
	"weapons/g3sg1_clipout.wav",
	"weapons/scout_bolt.wav",
	"weapons/scout_clipin.wav",
	"weapons/scout_clipout.wav",
	"weapons/m249_boxout.wav",
	"weapons/m249_boxin.wav",
	"weapons/m249_chain.wav",
	"weapons/m249_coverup.wav",
	"weapons/m249_coverdown.wav",
	"weapons/sg552_clipout.wav",
	"weapons/sg552_clipin.wav",
	"weapons/sg552_boltpull.wav",
	"weapons/aug_clipout.wav",
	"weapons/aug_clipin.wav",
	"weapons/aug_boltpull.wav",
	"weapons/aug_boltslap.wav",
	"weapons/aug_forearm.wav",
	"weapons/sg550_boltpull.wav",
	"weapons/sg550_clipin.wav",
	"weapons/sg550_clipout.wav",
	"weapons/m3_insertshell.wav",
	"weapons/m3_pump.wav",
	"weapons/reload1.wav",
	"weapons/reload3.wav",
	"weapons/usp1.wav",
	"weapons/usp2.wav",
	"weapons/usp_clipout.wav",
	"weapons/usp_clipin.wav",
	"weapons/usp_silencer_on.wav",
	"weapons/usp_silencer_off.wav",
	"weapons/usp_sliderelease.wav",
	"weapons/usp_slideback.wav",
	"weapons/mac10_clipout.wav",
	"weapons/mac10_clipin.wav",
	"weapons/mac10_boltpull.wav",
	"weapons/ump45_clipout.wav",
	"weapons/ump45_clipin.wav",
	"weapons/ump45_boltslap.wav",
	"weapons/fiveseven_clipout.wav",
	"weapons/fiveseven_clipin.wav",
	"weapons/fiveseven_sliderelease.wav",
	"weapons/fiveseven_slidepull.wav",
	"weapons/p90_clipout.wav",
	"weapons/p90_clipin.wav",
	"weapons/p90_boltpull.wav",
	"weapons/p90_cliprelease.wav",
	"weapons/de_clipout.wav",
	"weapons/de_clipin.wav",
	"weapons/de_deploy.wav",
	"weapons/p228_clipout.wav",
	"weapons/p228_clipin.wav",
	"weapons/p228_sliderelease.wav",
	"weapons/p228_slidepull.wav",
	"weapons/clipout1.wav",
	"weapons/clipin1.wav",
	"weapons/sliderelease1.wav",
	"weapons/slideback1.wav",
	"weapons/357_cock1.wav",
	"weapons/mp5_clipout.wav",
	"weapons/mp5_clipin.wav",
	"weapons/mp5_slideback.wav",
	"weapons/elite_fire.wav",
	"weapons/elite_reloadstart.wav",
	"weapons/elite_leftclipin.wav",
	"weapons/elite_clipout.wav",
	"weapons/elite_sliderelease.wav",
	"weapons/elite_rightclipin.wav",
	"weapons/elite_deploy.wav",
	"weapons/galil_clipout.wav",
	"weapons/galil_clipin.wav",
	"weapons/galil_boltpull.wav",
	"weapons/famas_clipout.wav",
	"weapons/famas_clipin.wav",
	"weapons/famas_boltpull.wav",
	"weapons/famas_boltslap.wav",
	"weapons/famas_forearm.wav",
	"weapons/famas-burst.wav",
	"weapons/debris1.wav",
	"weapons/debris2.wav",
	"weapons/debris3.wav",
	"weapons/bullet_hit1.wav",
	"weapons/bullet_hit2.wav",
	"items/weapondrop1.wav",
	"weapons/generic_reload.wav",
	"player/pl_shot1.wav",
	"radio/locknload.wav",
	"radio/letsgo.wav",
	"radio/moveout.wav",
	"radio/com_go.wav",
	"radio/rescued.wav",
	"radio/rounddraw.wav",
	"items/kevlar.wav",
	"items/nvg_off.wav",
	"items/equip_nvg.wav",
	"weapons/explode3.wav",
	"weapons/explode4.wav",
	"weapons/explode5.wav",
	"player/pl_fallpain2.wav",
	"player/pl_fallpain3.wav",
	"player/pl_snow5.wav",
	"player/pl_snow6.wav",
	"common/npc_step1.wav",
	"common/npc_step2.wav",
	"common/npc_step3.wav",
	"common/npc_step4.wav",
	"player/pl_dirt1.wav",
	"player/pl_dirt2.wav",
	"player/pl_dirt3.wav",
	"player/pl_dirt4.wav",
	"player/pl_duct1.wav",
	"player/pl_duct2.wav",
	"player/pl_duct3.wav",
	"player/pl_duct4.wav",
	"player/pl_grate1.wav",
	"player/pl_grate2.wav",
	"player/pl_grate3.wav",
	"player/pl_grate4.wav",
	"player/pl_tile1.wav",
	"player/pl_tile2.wav",
	"player/pl_tile3.wav",
	"player/pl_tile4.wav",
	"player/pl_swim1.wav",
	"player/pl_swim2.wav",
	"player/pl_swim3.wav",
	"player/pl_swim4.wav",
	"debris/wood1.wav",
	"debris/wood2.wav",
	"debris/wood3.wav",
	"plats/train_use1.wav",
	"plats/vehicle_ignition.wav",
	"buttons/spark5.wav",
	"buttons/spark6.wav",
	"debris/glass2.wav",
	"debris/glass3.wav",
	"common/bodysplat.wav",
	"player/pl_pain2.wav",
	"player/pl_pain4.wav",
	"player/pl_pain5.wav",
	"player/pl_pain6.wav",
	"player/pl_pain7.wav",
	"common/wpn_hudoff.wav",
	"common/wpn_moveselect.wav",
	"player/geiger6.wav",
	"player/geiger5.wav",
	"player/geiger4.wav",
	"player/geiger3.wav",
	"player/geiger2.wav",
	"player/geiger1.wav",
	"buttons/bell1.wav",
	"buttons/blip1.wav",
	"buttons/blip2.wav",
	"buttons/button11.wav",
	"buttons/latchunlocked2.wav",
	"buttons/lightswitch2.wav",
	"ambience/quail1.wav",
	"events/tutor_msg.wav",
	"events/enemy_died.wav",
	"events/friend_died.wav",
	"events/task_complete.wav",
	"items/suitchargeok1.wav",
	"common/bodydrop3.wav",
	"common/bodydrop4.wav",
	"weapons/ric1.wav",
	"weapons/ric2.wav",
	"weapons/ric3.wav",
	"weapons/ric4.wav",
	"weapons/ric5.wav",
	"weapons/ric_metal-1.wav",
	"weapons/ric_metal-2.wav",
	"weapons/ric_conc-1.wav",
	"weapons/ric_conc-2.wav"
}

new const unprecacheModels[][] =
{
	"bag.mdl",
	"bigtree.mdl",
	"bush.mdl",
	"orange.mdl",
	"pallet_with_bags.mdl",
	"pallet_with_bags2.mdl",
	"palmtree.mdl",
	"PG-150.mdl",
	"pshell.mdl",
	"rshell.mdl",
	"rshell_big.mdl"
}

public plugin_precache()
{
	register_plugin(PLUGIN, VERSION, AUTHOR);

	register_forward(FM_PrecacheModel, "unprecache_models");
	register_forward(FM_PrecacheSound, "unprecache_sounds");
}

public unprecache_models(const model[])
{
	for (new i = 0; i < sizeof(unprecacheModels); i++) {
		if (containi(model, unprecacheModels[i]) != -1) {
			forward_return(FMV_CELL, 0);

			return FMRES_SUPERCEDE ;
		}
	}

	return FMRES_IGNORED;
}

public unprecache_sounds(const sound[])
{
	for (new i = 0; i < sizeof(unprecacheSounds); i++) {
		if (containi(sound, unprecacheSounds[i]) != -1) {
			forward_return(FMV_CELL, 0);

			return FMRES_SUPERCEDE;
		}
	}

	return FMRES_IGNORED;
}